.single-attachment(
    ng-class="{deprecated: vm.attachment.getIn(['file', 'is_deprecated'])}",
    ng-if="vm.attachment.getIn(['file', 'id'])"
)
  .attachment-name
    a(tg-attachment-link="vm.attachment", href="{{::vm.attachment.getIn(['file', 'url'])}}", title="{{::vm.attachment.get(['file', 'name'])}}", target="_blank", download="{{::vm.attachment.getIn(['file', 'name'])}}")
      span.icon.icon-documents
      span {{::vm.attachment.getIn(['file', 'name'])}}

  .attachment-size
    span {{::vm.attachment.getIn(['file', 'size'])}} | sizeFormat}}

  .attachment-comments(ng-if="!vm.attachment.get('editable')")
    span.deprecated-file(ng-if="vm.attachment.getIn(['file', 'is_deprecated'])") {{'ATTACHMENT.DEPRECATED' | translate}}
    span {{vm.attachment.getIn(['file', 'description'])}}

  .editable.editable-attachment-comment(ng-if="vm.attachment.get('editable')")
    input(type="text", name="description", maxlength="140",
        ng-model="vm.form.description", placeholder="{{'ATTACHMENT.DESCRIPTION' | translate}}")

  .editable.editable-attachment-deprecated(ng-if="vm.attachment.get('editable')")
    input(type="checkbox", ng-model="vm.form.is_deprecated", name="is-deprecated", id="attach-{{::vm.attachment.getIn(['file', 'id'])}}-is-deprecated")
    label.is_deprecated(for="attach-{{::vm.attachment.getIn(['file', 'id'])}}-is-deprecated", translate="{{'ATTACHMENT.DEPRECATED_FILE' | translate}}")

  .attachment-settings(ng-if="vm.attachment.get('editable')")
    a.editable-settings.icon.icon-floppy(href="", title="{{'COMMON.SAVE' | translate}}", ng-click="vm.save()")
    a.editable-settings.icon.icon-delete(href="", title="{{'COMMON.CANCEL' | translate}}", ng-click="vm.editMode(false)")

  // todo modify_us
  .attachment-settings(ng-if="!vm.attachment.get('editable')", tg-check-permission="modify_us")
    a.settings.icon.icon-edit(href="", title="{{'COMMON.EDIT' | translate}}", ng-click="vm.editMode(true)")
    a.settings.icon.icon-delete(href="", title="{{'COMMON.DELETE' | translate}}", ng-click="vm.delete()")
    a.settings.icon.icon-drag-v(href="", title="{{'COMMON.DRAG' | translate}}")
